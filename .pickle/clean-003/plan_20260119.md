# Scrollbar & Scribble Restoration Implementation Plan

## Overview
Restore the "scribble" completion animation which was broken by text truncation and element type changes. Also, fix the scrollbar overlap in the sidebar.

## Current State Analysis
- `index.css`: `.todo-text` has `overflow: hidden` which clips the scribble `::after`.
- `index.css`: Selector `button.todo-text.completed::after` only targets buttons, but many items are now spans/divs.
- `index.css`: `.sidebar-list` has `padding-right: 5px`, which is too small for the scrollbar.

## Implementation Approach
1. Increase sidebar padding to give the scrollbar a gutter.
2. Refactor `.todo-text` to separate truncation from the scribble container.
3. Generalize the scribble CSS selector.

## Phase 1: CSS Layout & Selector Fixes
### Overview
Update `index.css` for padding and generalized selectors.

### Changes Required:
#### 1. `src/index.css`
**Changes**:
- Update `.sidebar-list` padding.
- Generalize `.todo-text.completed::after`.
- Split `.todo-text` into a container and a text child if necessary, OR adjust overflow.

```css
.sidebar-list {
  /* ... */
  padding-right: 15px; /* Gutter for scrollbar */
}

/* Generalized selector */
.todo-text.completed::after {
  /* ... existing scribble styles ... */
}

.todo-text {
  /* ... existing styles ... */
  overflow: visible; /* ALLOW SCRIBBLE TO OVERFLOW */
  display: flex;
  align-items: center;
}

/* New class for the text content itself */
.text-content {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
}
```

## Phase 2: Component Update
### Overview
Wrap task text in a span with the truncation class.

### Changes Required:
#### 1. `src/TaskSidebar.jsx`
#### 2. `src/TodoItem.jsx`
#### 3. `src/SubTaskItem.jsx`

```jsx
// Example change
<button className="todo-text ...">
  <span className="text-content">{todo.text}</span>
</button>
```

### Success Criteria:
#### Manual:
- [ ] Sidebar scrollbar does not cover task containers.
- [ ] Scribble strike-through appears on tasks AND subtasks when completed.
- [ ] Long text still shows "..." at the end.
