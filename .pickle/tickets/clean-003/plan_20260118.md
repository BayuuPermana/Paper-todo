# Clean Desk Protocol Implementation Plan

## Overview
Implement a hover-reveal mechanism for subtask action buttons to reduce visual clutter and enhance the "Paper" aesthetic.

## Current State Analysis
- `SubTaskItem.jsx`: Action buttons are always visible with static inline opacities.
- `index.css`: Missing specific reveal rules for subtasks.

## Implementation Approach
1. **CSS Definitions**: Add `.reveal-on-hover` and `.sub-task-item` hover rules to `index.css`.
2. **Component Refactor**:
    - Add a `show-actions` class to `.sub-task-item`.
    - Apply `reveal-on-hover` class to Edit and Delete buttons.
    - Add logic to Focus button to conditionaly bypass reveal if `isFocused`.
3. **Transition Polish**: Ensure opacity shifts are smooth.

## Phase 1: CSS & Component Refactor
### Overview
Add the styles and update the JSX.

### Changes Required:
#### 1. `src/index.css`
**Changes**: Add hover reveal logic.
```css
.sub-task-item .todo-actions button {
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
}

.sub-task-item:hover .todo-actions button {
  opacity: 0.6;
}

.sub-task-item .todo-actions button:hover {
  opacity: 1;
}

/* Force visibility for focused items */
.sub-task-item .todo-actions button.persistent-visible {
  opacity: 1;
}
```

#### 2. `src/SubTaskItem.jsx`
**Changes**: Apply classes and dynamic logic.
```jsx
// ... inside SubTaskItem
<button
  onClick={() => onFocus(subTask.id)}
  className={isFocused ? 'persistent-visible' : ''}
  // remove inline opacity
>
  ðŸŽ¯
</button>
```

### Success Criteria:
#### Automated:
- [ ] `bun run build`
#### Manual:
- [ ] **Clean Look**: Verify buttons are hidden when not hovering.
- [ ] **Reveal**: Hover over subtask, verify Edit/Delete appear.
- [ ] **Focus Persistence**: Click Focus, verify ðŸŽ¯ stays visible even when not hovering.
