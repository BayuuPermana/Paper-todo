# Research: Implement Inline Edit Function for Tasks and Subtasks

**Date**: 2026-01-18

## 1. Executive Summary
Implementing inline editing requires a local UI state for "editing mode" in item components, paired with centralized state mutation in `App.jsx`. The challenge is maintaining the "Paper" aestheticâ€”avoiding standard HTML input borders and ensuring the font matches the tactile hand-drawn feel.

## 2. Technical Context
- **State Source**: `src/App.jsx` manages the `todos` array.
- **Task Component**: `src/TodoItem.jsx` (Lines 4-100).
- **SubTask Component**: `src/SubTaskItem.jsx` (Lines 4-45).
- **Existing Patterns**: `TodoItem` already has an `isAddingSubTask` state pattern (Line 5) which can be mirrored for editing.

## 3. Findings & Analysis
- **Aesthetic Integration**: Inputs should use `border: none; border-bottom: 1px dashed black; background: transparent; font-family: inherit;`.
- **State Flow**: 
    - `App.jsx` needs generic update functions.
    - `TodoItem` needs a toggle for its own text.
    - `SubTaskItem` needs a toggle for its own text.
- **Event Handling**: 
    - `Enter` key should trigger save.
    - `Escape` key should trigger cancel.
    - `onBlur` should either save or cancel (we'll go with save for efficiency).

## 4. Technical Constraints
- **State Integrity**: Editing a parent task must not clear its subtasks.
- **UI Overflow**: Longer text must wrap or handle expansion within the fixed-height container.

## 5. Architecture Documentation
- Pattern: Local component state for UI mode, prop-drilled callbacks for global state updates.
